Version 4
SHEET 1 1600 680
WIRE 368 -304 16 -304
WIRE 656 -304 448 -304
WIRE 400 -192 400 -224
WIRE 208 -96 128 -96
WIRE 400 -96 400 -112
WIRE 400 -96 208 -96
WIRE 400 -80 400 -96
WIRE 208 -16 208 -96
WIRE 352 0 304 0
WIRE 400 80 400 16
WIRE 576 80 400 80
WIRE 128 112 128 -96
WIRE 16 128 16 -304
WIRE 96 128 16 128
WIRE 400 128 400 80
WIRE 304 144 304 0
WIRE 304 144 160 144
WIRE 352 144 304 144
WIRE -352 160 -416 160
WIRE -256 160 -272 160
WIRE -224 160 -256 160
WIRE -112 160 -144 160
WIRE -80 160 -112 160
WIRE 32 160 0 160
WIRE 96 160 32 160
WIRE 576 176 576 80
WIRE -112 208 -112 160
WIRE 32 208 32 160
WIRE 128 240 128 176
WIRE 208 240 208 48
WIRE 208 240 128 240
WIRE 400 240 400 224
WIRE 400 240 208 240
WIRE 400 272 400 240
WIRE 576 272 576 256
WIRE 624 272 576 272
WIRE 656 272 656 -304
WIRE 656 272 624 272
WIRE 576 288 576 272
WIRE -112 320 -112 272
WIRE -32 320 -112 320
WIRE 32 320 32 272
WIRE 32 320 -32 320
WIRE -32 352 -32 320
WIRE 400 384 400 352
WIRE 576 384 576 368
FLAG 400 -224 0
FLAG -416 160 0
FLAG 400 384 0
FLAG 576 384 0
FLAG -32 352 0
FLAG -256 160 IN
IOPIN -256 160 In
FLAG 624 272 OUT
IOPIN 624 272 Out
SYMBOL res 464 -320 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10K
SYMBOL voltage 400 -96 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName Vs
SYMATTR Value 12
SYMBOL OpAmps\\UniversalOpAmp 128 144 R0
SYMATTR InstName U1
SYMBOL pmos 352 224 M180
SYMATTR InstName M1
SYMBOL Misc\\signal -256 160 R90
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V1
SYMATTR Value SINE(0 1 1)
SYMBOL nmos 352 -80 R0
SYMATTR InstName M2
SYMBOL voltage 400 368 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 0
WINDOW 39 0 0 Left 0
SYMATTR InstName V2
SYMATTR Value 12
SYMBOL res 560 272 R0
SYMATTR InstName RSense
SYMATTR Value 1
SYMBOL res 592 272 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName RLoad
SYMATTR Value 10
SYMBOL cap -128 208 R0
SYMATTR InstName C1
SYMATTR Value 100n
SYMBOL cap 16 208 R0
SYMATTR InstName C2
SYMATTR Value 100n
SYMBOL res -128 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R1
SYMATTR Value 1K
SYMBOL res 16 144 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R2
SYMATTR Value 1K
SYMBOL cap 192 -16 R0
SYMATTR InstName C3
SYMATTR Value 10µ
TEXT -248 16 Left 2 !.tran 0 10 0 0.01
TEXT -888 -152 Left 2 ;The voltage reading at IN must be equal to the voltage reading at OUT\n \nThis works quite well as long as the RLoad is relatively small (<10 Ohms)
